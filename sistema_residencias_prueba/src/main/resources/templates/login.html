<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>Iniciar sesión - Sistema de Titulación</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        :root {
            --azul-oscuro: #1B396A;
            --azul-claro:  #24497F;
            --gris-texto:  #1a1a1a;
            --blanco:      #ffffff;
        }


                body {
                    margin: 0;
                    height: 100vh;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background: linear-gradient(135deg, var(--azul-oscuro), var(--azul-claro));
                    background-size: 300% 300%;
                    animation: gradientShift 10s ease infinite;
                    font-family: 'Segoe UI', sans-serif;
                    color: var(--gris-texto);
                }

                @keyframes gradientShift {
                    0% { background-position: 0% 50%; }
                    50% { background-position: 100% 50%; }
                    100% { background-position: 0% 50%; }
                }

                /* Caja del login */
                .login-box {
                    background: rgba(255, 255, 255, 0.92);
                    color: var(--gris-texto);
                    border-radius: 20px;
                    padding: 2.5rem;
                    width: 100%;
                    max-width: 420px;
                    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.27);
                    backdrop-filter: blur(12px);
                    animation: fadeIn 0.8s ease;
                    border-top: 6px solid var(--azul-oscuro);
                }

                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-10px); }
                    to { opacity: 1; transform: translateY(0); }
                }

                .login-box h4 {
                    font-weight: 700;
                    margin-bottom: 1.5rem;
                    text-align: center;
                    color: var(--azul-oscuro);
                }

                /* Input con icono */
                .icon-input {
                    position: relative;
                    margin-bottom: 1rem;
                }

                .icon-input i {
                    position: absolute;
                    top: 50%;
                    left: 12px;
                    transform: translateY(-50%);
                    color: #555;
                    font-size: 1.1rem;
                }

                .icon-input input {
                    padding-left: 2.5rem;
                    border-radius: 12px;
                    background: rgba(255, 255, 255, 0.8);
                    border: 1px solid rgba(0, 0, 0, 0.15);
                    transition: all 0.3s ease;
                }

                .icon-input input:focus {
                    border-color: var(--azul-claro);
                    box-shadow: 0 0 8px rgba(56, 144, 224, 0.4);
                    outline: none;
                    background: #fff;
                }

                /* Botón */
                .btn-primary {
                    background-color: var(--azul-oscuro);
                    border: none;
                    font-weight: 600;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                }

                .btn-primary:hover {
                    background-color: var(--azul-claro);
                    transform: translateY(-2px);
                }

                .alert {
                    text-align: center;
                    border-radius: 10px;
                    padding: 0.7rem 1rem;
                }

                .text-muted a {
                    color: var(--azul-claro);
                    text-decoration: none;
                    transition: 0.3s ease all;
                }

                .text-muted a:hover {
                    color: var(--azul-oscuro);
                }
    </style>
</head>

<body>

<div class="login-box">
    <h4><i class="bi bi-shield-lock-fill me-2"></i>Iniciar sesión</h4>

    <form th:action="@{/login}" method="post">
        <div th:if="${param.error}" class="alert alert-danger">
            Usuario o contraseña incorrectos.
        </div>
        <div th:if="${param.logout}" class="alert alert-success">
            Has cerrado sesión correctamente.
        </div>
        <div th:if="${param.registroExitoso}" class="alert alert-success">
            Registro exitoso. Ahora puedes iniciar sesión.
        </div>

        <div class="icon-input">
            <i class="bi bi-envelope-fill"></i>
            <input type="text" name="username" class="form-control" placeholder="Correo institucional" required>
        </div>

        <div class="icon-input">
            <i class="bi bi-lock-fill"></i>
            <input type="password" name="password" class="form-control" placeholder="Contraseña" required>
        </div>

        <div class="d-grid">
            <button class="btn btn-primary" type="submit">
                <i class="bi bi-box-arrow-in-right me-1"></i> Entrar
            </button>
        </div>

        <div class="text-muted text-center mt-3">
            ¿No tienes cuenta? <a th:href="@{/registro}">Regístrate aquí</a>
        </div>
        <div class="text-center mt-2">
            <a th:href="@{/forgot-password}" class="text-muted">¿Olvidaste tu contraseña?</a>
        </div>
    </form>
</div>

</body>
</html>
